//- ── Mixins ────────────────────────────────────────────────────────────────
mixin convBtn(label, type, ariaLabel)
    button(
        class="px-4 py-2.5 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm font-semibold text-slate-700 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-800 hover:border-blue-400 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 hover:shadow-sm transition-all active:scale-95"
        @click=`$store.converter.convert('${type}')`
        aria-label=ariaLabel
    )= label

mixin featureCard(icon, color, title, desc)
    div(class="p-6 bg-white dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm transition-all")
        - 
            var cardColor = {
                blue: "bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",
                purple: "bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",
                green: "bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"
            };
            var currentColor = cardColor[color] || "bg-slate-100 dark:bg-slate-800/30 text-slate-600 dark:text-slate-400";
        div(class=`w-12 h-12 rounded-lg flex items-center justify-center mb-4 ${currentColor}`)
            i(class=`fas text-xl ${icon}`)
        h3(class="text-lg font-bold mb-2 text-slate-800 dark:text-slate-100")= title
        p(class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed")= desc

//- ── Header ──────────────────────────────────────────────────────────────
header(
    class="bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 sticky top-0 z-50 w-full transition-colors"
    x-data
)
    div(class="px-4 sm:px-8 h-16 flex items-center justify-between w-full")
        div
            a(
                href="/"
                class="text-xl font-extrabold tracking-tight text-slate-900 dark:text-white hover:opacity-90 transition-opacity"
            )
                | Case
                span.text-blue-600 Convertor
        .flex.items-center.space-x-4
            button(
                class="flex items-center justify-center w-10 h-10 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-all border border-transparent hover:border-slate-200 dark:hover:border-slate-700"
                @click="$store.theme.toggle()"
                :title="$store.theme.title"
                :aria-label="'Toggle theme (Current: ' + $store.theme.current + ')'"
            )
                i.fas(:class="$store.theme.icon" aria-hidden="true")

//- ── Main ────────────────────────────────────────────────────────────────
main(
    class="flex-grow w-full px-4 sm:px-8 py-8 mx-auto max-w-[1440px]"
    x-data="{}"
)

    //- Converter Card
    .bg-white(
        class="dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden transition-colors"
    )
        //- Textarea toolbar
        div(
            class=" px-4 py-3 bg-slate-50 dark:bg-slate-800/80 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between"
        )
            .flex.space-x-2
                span.inline-flex.items-center(class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400") Editor
            .flex.space-x-2
                button(
                    class="p-1.5 text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
                    @click="$store.converter.copy()"
                    title="Copy to clipboard"
                    aria-label="Copy current text"
                )
                    i.fas(:class="$store.converter.copied ? 'fa-check text-green-500' : 'fa-copy'" aria-hidden="true")
                button(
                    class="p-1.5 text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
                    @click="$store.converter.download()"
                    title="Download as .txt"
                    aria-label="Download text as file"
                )
                    i.fas.fa-download(aria-hidden="true")
                button(
                    class="p-1.5 text-slate-500 dark:text-slate-400 hover:text-red-500 dark:hover:text-red-400 transition-colors"
                    @click="$store.converter.convert('clear')"
                    title="Clear text"
                    aria-label="Clear all text"
                )
                    i.fas.fa-trash-alt(aria-hidden="true")

        //- Textarea
        .relative
            textarea(
                class="w-full h-72 p-6 bg-transparent text-slate-800 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none resize-none text-lg leading-relaxed transition-colors border-0"
                :value="$store.converter.text"
                @input="$store.converter.text = $event.target.value"
                placeholder="Type or paste your content here..."
                aria-label="Text to convert"
            )
            .absolute.top-4.right-4.bg-green-600.text-white.px-3.py-1.rounded-full.text-xs.font-bold.shadow-lg.z-10(
                x-show="$store.converter.copied"
                x-transition:enter="transition ease-out duration-200"
                x-transition:enter-start="opacity-0 -translate-y-1"
                x-transition:enter-end="opacity-100 translate-y-0"
                x-transition:leave="transition ease-in duration-150"
                x-transition:leave-start="opacity-100 translate-y-0"
                x-transition:leave-end="opacity-0 -translate-y-1"
            ) Copied!

        //- Conversion buttons + action row
        div(class=" p-6 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 transition-colors")
            div(class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6")
                +convBtn("Sentence case", "sentence", "Convert to sentence case")
                +convBtn("lower case", "lower", "Convert to lower case")
                +convBtn("UPPER CASE", "upper", "Convert to upper case")
                +convBtn("Capitalized Case", "capitalized", "Convert to capitalized case")
                +convBtn("aLtErNaTiNg cAsE", "alternating", "Convert to alternating case")
                +convBtn("Title Case", "title", "Convert to title case")
                +convBtn("iNVERSE cASE", "inverse", "Convert to inverse case")
                +convBtn("slug-case", "slug", "Convert to slug case")

            //- Stats + action buttons
            div(class="flex flex-col sm:flex-row items-center justify-between pt-4 border-t border-slate-100 dark:border-slate-800 gap-4")
                div(
                    class="flex space-x-6 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-widest"
                    aria-live="polite"
                )
                    .flex.flex-col
                        span(class="text-slate-400 dark:text-slate-500 mb-1") Characters
                        span(
                            class="text-slate-900 dark:text-slate-100 text-sm font-bold"
                            x-text="$store.converter.charCount"
                        )
                    .flex.flex-col
                        span(class="text-slate-400 dark:text-slate-500 mb-1") Words
                        span(
                            class="text-slate-900 dark:text-slate-100 text-sm font-bold"
                            x-text="$store.converter.wordCount"
                        )
                    .flex.flex-col
                        span(class="text-slate-400 dark:text-slate-500 mb-1") Lines
                        span(
                            class="text-slate-900 dark:text-slate-100 text-sm font-bold"
                            x-text="$store.converter.lineCount"
                        )
                div(class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto")
                    button(
                        class="px-4 py-2.5 bg-blue-600 border border-blue-600 rounded-lg text-sm font-semibold text-white hover:bg-blue-700 hover:shadow-md transition-all active:scale-95 flex items-center justify-center space-x-2 w-full sm:w-auto"
                        @click="$store.converter.copy()"
                        aria-label="Copy to clipboard"
                    )
                        i.fas(:class="$store.converter.copied ? 'fa-check' : 'fa-clipboard'" aria-hidden="true")
                        span(x-text="$store.converter.copied ? 'Copied' : 'Copy to Clipboard'")
                    button(
                        class="px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg text-sm font-semibold text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all flex items-center justify-center space-x-2 w-full sm:w-auto"
                        @click="$store.converter.download()"
                        aria-label="Download text file"
                    )
                        i(
                            class="fas fa-file-alt text-slate-400 dark:text-slate-500"
                            aria-hidden="true"
                        )
                        span Download.txt

    //- ── Feature Cards ──────────────────────────────────────────────────────
    section(class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-8")
        +featureCard("fa-bolt", "blue", "Instant Conversion", "Transform your text instantly with our robust case conversion engine. No page reloads required.")
        +featureCard("fa-chart-bar", "purple", "Detailed Stats", "Track word count, character count, and lines in real-time as you type or convert.")
        +featureCard("fa-shield-alt", "green", "Privacy First", "All conversions happen locally in your browser. Your data never leaves your computer.")

    //- ── SEO Content ────────────────────────────────────────────────────────
    section.mt-20.max-w-4xl.mx-auto.space-y-16.pb-20

        div(class="prose prose-slate dark:prose-invert max-w-none")
            h2(class="text-3xl font-bold text-slate-900 dark:text-white mb-6") The Ultimate Online Case Converter Utility
            p(class="text-slate-600 dark:text-slate-400 leading-relaxed text-lg")
                | Welcome to the most efficient #[strong online case converter]. Whether you've accidentally left Caps Lock on, or you need to format text for a professional document, our tool provides a suite of features to transform your text instantly. Our #[strong convert case] utility is designed for writers, developers, and office professionals who value speed and privacy.
            div(class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-10")
                div
                    h3(class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-3") What is Sentence Case?
                    p(class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed") Sentence case capitalizes the first letter of the first word in a sentence and all proper nouns. It is the standard format for most written communication, making your text look natural and professional.
                div
                    h3(class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-3") When to use Title Case?
                    p(class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed") Title Case is typically used for book titles, headlines, and subheadings. It capitalizes the first letter of every word except for minor words like "the", "a", "an", and "but".
                div
                    h3(class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-3") Lower Case &amp; Upper Case
                    p(class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed") Instantly convert a whole block of text to #[strong lowercase] or #[strong UPPERCASE] with a single click. Perfect for cleaning up data or formatting.
                div
                    h3(class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-3") Slug Case &amp; Kebab Case
                    p(class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed") Our #[strong slug case] converter transforms your text into a URL-friendly format. It replaces spaces with hyphens and removes special characters, making it ideal for SEO-friendly URLs and file naming conventions.

        div(class="bg-white dark:bg-slate-900 rounded-2xl p-8 border border-slate-200 dark:border-slate-800 shadow-sm")
            h2(class="text-2xl font-bold text-slate-900 dark:text-white mb-8 text-center") Frequently Asked Questions
            .space-y-6
                div(class="border-b border-slate-100 dark:border-slate-800 pb-4")
                    h4(class="text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2") Is this Case Converter free to use?
                    p(class="text-slate-600 dark:text-slate-400 text-sm") Yes, CaseConvertor is 100% free. You can convert as much text as you need without any limitations or sign-ups.
                div(class="border-b border-slate-100 dark:border-slate-800 pb-4")
                    h4(class="text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2") Will my text be stored on your servers?
                    p(class="text-slate-600 dark:text-slate-400 text-sm")
                        | No. All text processing happens locally in your web browser. 
                        | Your private data never leaves your computer, making it one of the most secure ways to 
                        strong change text case
                        |  online.
                div(class="border-b border-slate-100 dark:border-slate-800 pb-4")
                    h4(class="text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2") Does this tool support bulk text conversion?
                    p(class="text-slate-600 dark:text-slate-400 text-sm") Absolutely. You can paste entire documents into the editor, and our conversion engine will handle it instantly with no lag.

        div(class="text-center text-slate-500 dark:text-slate-400 text-sm")
            p Optimized for productivity. Built for privacy. The best #[strong text case changer] on the web.

//- ── Footer ──────────────────────────────────────────────────────────────
footer(class="bg-slate-50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-800 py-12 transition-colors")
    .container.mx-auto.px-4.max-w-5xl.text-center
        .flex.flex-col.items-center.mb-8
            .flex.items-center.mb-4
                span(class="text-lg font-bold text-slate-900 dark:text-white") CaseConvertor
            p(class="text-slate-500 dark:text-slate-400 text-sm max-w-md mx-auto") The ultimate text conversion utility designed for speed, privacy, and productivity. All processing happens locally in your browser to ensure your data stays secure.
        div(class="pt-8 border-t border-slate-200 dark:border-slate-800 flex justify-center items-center text-slate-400 dark:text-slate-500 text-xs")
            p © 2026 CaseConvertor. All rights reserved.